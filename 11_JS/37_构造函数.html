<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        /*
            使用工厂方法创建的对象，使用的构造函数都是Object
                所以创建的对象都是Object这个类型
                    就导致我们无法区分出多种不同类型的对象
        */

        /*
            创建一个构造函数，专门用来创建Person对象的
                
            构造函数就是一个普通的函数，创建方式与普通函数没有区别
                不同的是构造函数习惯上首字母大写

            构造函数和普通函数调用方式有所不同：
                普通函数函数是直接调用
                构造函数需要使用new关键字调用

            构造函数的执行流程：
                1. 立即创建一个新的对象
                2. 将新建的对象设置为函数中的this，在构造函数中可以使用this来引用新建的对象
                3. 逐行执行函数中的代码
                4. 将新建的对象作为返回值返回

            使用同一个构造函数创建的对象，称为一类对象，也将构造函数称为一个类
                通过一个构造函数创建的对象，称为这个类的实例


            this:
                1. 以函数的形式调用时，this永远都是window
                2. 以方法的形式调用时，this就是调用方法的那个对象
                3. 当以构造函数的形式调用时，this就是新创建的那个对象
        */

        /*
            在Person的构造函数中，为每一个对象都添加了一个sayName方法
            我们的方法是在构造函数内创建的，也就是构造函数每执行一次就会创建一个新的sayName方法
            也就是所有实例的sayName都是不同的（因为执行一次就创建一个新的）
            这样构造函数执行几次就会创建几个sayName方法
        */

        // 将sayName方法在全局作用域中定义
        /*
            将函数定义在全局作用域中，污染了全局作用域的命名空间
                而且定义在全局作用域中也很不安全
        */
        function fun(){
            console.log(this.name);
        }

        function Person(name, age, gender){
            this.name = name;
            this.age = age;
            this.gender = gender;
            this.sayName = fun;
        }

        var per = new Person("孙悟空",18,"男");  
        var per2 = new Person("猪八戒",28,"男");  
        var per3 = new Person("沙和尚",16,"男");  
        console.log(per);
        console.log(per2);
        console.log(per3);

        function Dog(){

        }
        var dog = new Dog();

        /*
            使用instanceof可以检查一个对象是否是一个类的实例
                语法：
                    对象 instanceof 构造函数
        */
        console.log(per instanceof Person);  // true
        console.log(dog instanceof Person);  // false

        /*
            所有的对象都是Object的后代，所以任何对象和Object做instanceof检查时都会返回true
        */
        console.log(per instanceof Object);  // true
        console.log(dog instanceof Object);  // true


        

    </script>
</head>
<body>
    
</body>
</html>
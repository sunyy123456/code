<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        /*
            1. 所有代码分类：
                初始化执行代码（同步代码）：包含绑定dom事件监听，设置定时器，发生ajax请求的代码
                回调执行代码（异步代码）：处理回调逻辑

            2. js引擎执行代码的基本流程：
                初始化代码 --> 回调代码

            3. 模型的两个重要组成部分：
                事件(定时器 / DOM事件 / Ajax)管理模块
                回调队列

            4. 模型的运转流程
                执行初始化代码，将事件回调函数交给对应模块管理
                当事件发生时，管理模块会将回调函数及其数据添加到回调队列中
                只有当初始化代码执行完后（可能需要一定时间），才会遍历读取回调队列中的回调函数执行

            相关概念：
                - 执行栈（execution stack）：所有的代码都是在此空间中执行的
                - 浏览器内核（browser core）
                    - js引擎模块（在主线程处理）
                    - 其他模块（在主/分线程处理）
                - callback queue ：也称为任务队列（task queue）、消息队列（message queue）、事件队列（event queue）
                - 事件轮询（event loop）：从任务队列中循环取出回调函数放入执行栈中处理（一个接一个）
        */
        window.onload = function(){
            function fn1(){
                console.log("fn1");
            }
            document.getElementById("btn").onclick = function(){
                console.log("点击了btn");
            };
            setTimeout(function(){
                console.log("定时器执行了");
            }, 2000)
            function fn2(){
                console.log("fn2");
            }
        };

    </script>
</head>
<body>
    <button id="btn">dianwo</button>
</body>
</html>